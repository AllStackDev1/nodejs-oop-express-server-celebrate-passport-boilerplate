version: "3"

services:
  app:
    build: .
    image: node:alpine
    environment:
      - NODE_ENV=${NODE_ENV}
      
      - SECRET=${SECRET}
      - EXPIRESIN=${EXPIRESIN}

      - NODEMAILER_PASS=${NODEMAILER_PASS}
      - ORIGIN1=${ORIGIN}
      - AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID
      - AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY

      - PROD_DATABASE_URL=${PROD_DATABASE_URL}
      - DEV_DATABASE_URL=${DEV_DATABASE_URL}
      - TEST_DATABASE_URL=${TEST_DATABASE_URL}

      - PROD_DATABASE_NAME=${PROD_DATABASE_NAME}
      - DEV_DATABASE_NAME=${DEV_DATABASE_NAME}
      - TEST_DATABASE_NAME=${TEST_DATABASE_NAME}

      - NODEMAILER_PASS=${NODEMAILER_PASS}
      - PORT=${PORT}
    ports:
      - "8000:8000"
    restart: always
